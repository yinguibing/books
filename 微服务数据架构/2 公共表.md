为了微服务的自治、独立演化，数据架构设计通常需要进行分库分表设计，其中分库是系统架构设计层次的问题，而分表是数据库运维层次的问题。

数据库进行分库设计后，其中部分公共表如字典表等的数据是在各个服务模块中是共享的，如何解决共享数据在微服务实施中是数据处理的关键点。

通常字典数据是不允许变动的，是系统运行的元数据，一般小型项目可以直接硬编码的代码中。这种方式在开发维度讲是很容易实现和实现和实施的，但是从运维角度和系统扩展角度讲却是麻烦的。字典数据的每次变动都需要重新的编译、测试、打包和部署。在中大型项目中的另一种方式就是写入到配置文件中，在配置文件中维护字典数据，这种方式也比较容易实现，维护难度相对也较低，但是同硬编码到代码中一样，在微服务环境中难以保证所有服务的数据一致性。

大型系统中，为了维护共享数据，通常这部分数据是保存到表中的，业务表和字典表等join查询可以获得字典值。在单体应用模式下这种方式很容易实现，而且orm框架也能很好的完成级联映射，但是在微服务系统中，由于采取了分库手段，公共表和业务表很有可能不是在同一个数据库中，所以存在跨库join的问题。

解决微服务数据共享的手段有两个，一个是针对公共表建立rest微服务，业务服务需要共享数据的信息时候通过服务调用获得数据信息。另一种手段是采用数据库中间件，现在开源的数据库中间件如mycat等是可以完成数据库的跨库查询等。

以上两种方式各有利弊，通过公共服务的方式是将数据的集成从数据库层次提升到了代码层次，自然而然带来了编码的复杂性，更多的网络开销、数据延迟，好处是业务服务和共享数据服务是独立演化的，保持了服务的自治性。针对网络通信开销和数据延迟，消费者服务可以通过缓存共享数据来解决。

