对于分布式框架而言，从功能上需要支持分布式事务，但是在实际的使用过程中，如果能通过最终一致性解决问题，则不需要做强一致性；如果能避免分布式事务，则在业务层避免使用分布式事务。

型的问题是微服务之间如果需要共享状态怎么办？实际是在[**分布式**](http://www.jdon.com/DistributedSystems.html)节点之间需要共享或复制状态。关于共享状态有几个解决方案：  
1.微服务之间通过共享同一个数据库实现状态共享，但是因为微服务是使用自己专用的数据库，因此，数据库共享方案在微服务中是不适用的，违背了微服务架构宗旨。  
  
2.通过调用同一个微服务实现状态共享，比如A服务和B服务需要共享C数据状态，而C数据状态是由C服务管理的，那么，A服务和B服务共同调用C服务不就是获得同一个C状态吗？  
但是考虑到[**分布式**](http://www.jdon.com/DistributedSystems.html)系统下，A服务和B服务可能不在同一个节点服务器上，或者不同Docker VM中，那么服务之间调用就需要网络通讯，通常RPC是一种通过网络调用远程服务器上其他服务的同步方式，但是，RPC虽然将网络编程藏起来，其实藏是藏不住，结果造成抽象泄漏了。  
  
"Asynch message-passing makes constraints of network programming firstclass instead of hiding them behind the RPC leaky abstraction"异步消息传递使得网络编程变成第一公民\(显式\)，而不是像RPC隐藏了网络编程却造成抽象泄漏。  
  
在[**分布式**](http://www.jdon.com/DistributedSystems.html)系统中使用异步消息必然会遭遇最终一致性。甚至可以说微服务是使用最终一致性的\(microservices use eventual consistency\)



