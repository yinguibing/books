在讨论微服务的数据架构设计之前，首先讨论一下分布式系统设计面临的CAP原则。CAP原则又称CAP定理，是指在一个分布式系统中，数据的一致性consistency、可用性availability、partition tolerance分区容错性，三者不可兼得。一致性是指在分布式系统中所有的备份数据，在同一时刻值相等，相当于所有的客户端应用节点访问同一份最新的数据副本；可用性是指在集群中某一部分节点故障后，数据库集群整体是否还能响应客户端请求，对数据更新具备高可用性；分区容错性是指系统如果不能再时限内达成数据一致性，就意味着发生了分区的情况，就必须在C和A之间做出选择。

